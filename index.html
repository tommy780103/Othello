<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>イロオセロ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>イロオセロ</h1>
            <div class="score-board" id="scoreBoard" style="display: none;">
                <div class="multiplayer-scores" id="multiplayerScores">
                    <!-- 多人数用スコアボードがJavaScriptで生成されます -->
                </div>
                <div class="current-turn" id="currentTurn">
                    <span>いまのばん：</span>
                    <span class="turn-indicator" id="turnIndicatorText">プレイヤー1</span>
                </div>
            </div>
        </header>

        <main>
            <!-- ゲームモード選択 -->
            <div class="game-mode-selector" id="gameModeSelector">
                <h2>あそびかたをえらんでね</h2>
                
                <!-- 全体人数選択 -->
                <div class="player-count-selector">
                    <h3>なんにん？</h3>
                    <div class="player-count-buttons">
                        <button class="total-player-btn" data-total="1">
                            <span class="count-number">1</span>
                            <span class="count-text">にん</span>
                        </button>
                        <button class="total-player-btn selected" data-total="2">
                            <span class="count-number">2</span>
                            <span class="count-text">にん</span>
                        </button>
                    </div>
                </div>
                
                <!-- プレイヤー数選択 -->
                <div class="human-player-selector" id="humanPlayerSelector" style="display: none;">
                    <h3>プレイヤー数は？</h3>
                    <div class="human-player-buttons" id="humanPlayerButtons">
                        <!-- JavaScriptで動的生成 -->
                    </div>
                    <div class="player-breakdown" id="playerBreakdown" style="display: none;">
                        <p id="breakdownText"></p>
                    </div>
                </div>
                
                
                <!-- CPU難易度選択（2人モード用） -->
                <div class="difficulty-selector" id="difficultySelector" style="display: none;">
                    <h3>つよさをえらんでね</h3>
                    <div class="difficulty-buttons">
                        <button class="diff-btn" data-level="1">ちょうやさしい</button>
                        <button class="diff-btn" data-level="2">やさしい</button>
                        <button class="diff-btn" data-level="3">ふつう</button>
                        <button class="diff-btn" data-level="4">つよい</button>
                        <button class="diff-btn" data-level="5">おにつよ</button>
                    </div>
                    <div class="difficulty-selected" id="difficultySelected" style="display: none;">
                        <p id="selectedDifficultyText"></p>
                    </div>
                </div>
                
                <div class="color-selector">
                    <div class="sequential-color-selection">
                        <div class="color-selection-step" id="step1">
                            <h3 id="colorStepTitle">プレイヤー1の色をえらんでね</h3>
                            <div class="all-color-options">
                                <div class="color-option" data-color="red">
                                    <span class="preview-piece color-red"></span>
                                    <span class="color-name">あか</span>
                                </div>
                                <div class="color-option" data-color="white">
                                    <span class="preview-piece color-white"></span>
                                    <span class="color-name">しろ</span>
                                </div>
                                <div class="color-option" data-color="black">
                                    <span class="preview-piece color-black"></span>
                                    <span class="color-name">くろ</span>
                                </div>
                                <div class="color-option" data-color="blue">
                                    <span class="preview-piece color-blue"></span>
                                    <span class="color-name">あお</span>
                                </div>
                                <div class="color-option" data-color="orange">
                                    <span class="preview-piece color-orange"></span>
                                    <span class="color-name">オレンジ</span>
                                </div>
                                <div class="color-option" data-color="pink">
                                    <span class="preview-piece color-pink"></span>
                                    <span class="color-name">ピンク</span>
                                </div>
                                <div class="color-option" data-color="green">
                                    <span class="preview-piece color-green"></span>
                                    <span class="color-name">みどり</span>
                                </div>
                                <div class="color-option" data-color="yellow">
                                    <span class="preview-piece color-yellow"></span>
                                    <span class="color-name">きいろ</span>
                                </div>
                                <div class="color-option" data-color="gray">
                                    <span class="preview-piece color-gray"></span>
                                    <span class="color-name">グレー</span>
                                </div>
                                <div class="color-option" data-color="gold">
                                    <span class="preview-piece color-gold"></span>
                                    <span class="color-name">きん</span>
                                </div>
                                <div class="color-option" data-color="silver">
                                    <span class="preview-piece color-silver"></span>
                                    <span class="color-name">ぎん</span>
                                </div>
                                <div class="color-option" data-color="lime">
                                    <span class="preview-piece color-lime"></span>
                                    <span class="color-name">きみどり</span>
                                </div>
                                <div class="color-option" data-color="purple">
                                    <span class="preview-piece color-purple"></span>
                                    <span class="color-name">むらさき</span>
                                </div>
                                <div class="color-option" data-color="cyan">
                                    <span class="preview-piece color-cyan"></span>
                                    <span class="color-name">みずいろ</span>
                                </div>
                                <div class="color-option" data-color="brown">
                                    <span class="preview-piece color-brown"></span>
                                    <span class="color-name">ちゃいろ</span>
                                </div>
                                <div class="color-option" data-color="random">
                                    <span class="preview-piece color-random"></span>
                                    <span class="color-name">ランダム</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="color-selection-step" id="step2" style="display: none;">
                            <h3>プレイヤー2の色をえらんでね</h3>
                            <div class="chosen-color-display">
                                <span>プレイヤー1：</span>
                                <div class="chosen-preview">
                                    <span class="preview-piece" id="player1Preview"></span>
                                    <span id="player1ColorName"></span>
                                </div>
                            </div>
                            <div class="remaining-color-options" id="remainingColors">
                                <!-- 残りの色がJavaScriptで生成されます -->
                            </div>
                        </div>
                        
                        <div class="color-selection-step" id="step3" style="display: none;">
                            <h3>色がきまりました！</h3>
                            <div class="final-color-display">
                                <div class="player-final-color">
                                    <span>プレイヤー1</span>
                                    <div class="final-preview">
                                        <span class="preview-piece" id="finalPlayer1Preview"></span>
                                        <span id="finalPlayer1ColorName"></span>
                                    </div>
                                    <button class="name-edit-btn" id="player1NameEditBtn" title="名前をかえる">✏️</button>
                                </div>
                                <div class="vs-final">VS</div>
                                <div class="player-final-color">
                                    <span>プレイヤー2</span>
                                    <div class="final-preview">
                                        <span class="preview-piece" id="finalPlayer2Preview"></span>
                                        <span id="finalPlayer2ColorName"></span>
                                    </div>
                                    <button class="name-edit-btn" id="player2NameEditBtn" title="名前をかえる">✏️</button>
                                </div>
                            </div>
                            <div class="turn-decision" id="turnDecisionPvP" style="display: none;">
                                <h4>だれからはじめる？</h4>
                                <div class="first-player-selector">
                                    <button class="first-player-btn selected" id="player1FirstBtn" data-player="red">
                                        <span class="preview-piece" id="firstBtnPlayer1Color"></span>
                                        <span id="firstBtnPlayer1Name">プレイヤー1</span>
                                        から
                                    </button>
                                    <button class="first-player-btn" id="player2FirstBtn" data-player="white">
                                        <span class="preview-piece" id="firstBtnPlayer2Color"></span>
                                        <span id="firstBtnPlayer2Name">プレイヤー2</span>
                                        から
                                    </button>
                                </div>
                            </div>
                            <div class="turn-decision" id="turnDecisionCpu" style="display: none;">
                                <h4>だれからはじめる？じゃんけんで決めよう！</h4>
                                <div class="janken-options">
                                    <button class="janken-btn" data-choice="rock">✊ぐー</button>
                                    <button class="janken-btn" data-choice="paper">✋ぱー</button>
                                    <button class="janken-btn" data-choice="scissors">✌️ちょき</button>
                                </div>
                                <div class="janken-result" id="jankenResult" style="display: none;">
                                    <p id="jankenMessage"></p>
                                    <button class="btn-retry-janken" id="retryJankenBtn" style="display: none;">もういちど</button>
                                </div>
                            </div>
                            <button class="btn-start-game" id="startGameBtn">あそぶ！</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="game-board" id="gameBoard" style="display: none;">
                <!-- 8x8のマス目がJavaScriptで生成されます -->
            </div>
            
            <div class="controls" style="display: none;" id="gameControls">
                <button class="btn-reset" id="resetBtn">もういちど あそぶ</button>
                <button class="btn-hint" id="hintBtn">ヒント</button>
                <button class="btn-skip" id="skipBtn" style="display: none;">パス</button>
                <button class="btn-swap" id="swapBtn">なまえをこうかん</button>
                <button class="btn-menu" id="menuBtn">メニューにもどる</button>
            </div>
        </main>

        <div class="message-area" id="messageArea">
            <p>あかのばんです！コマをおいてね</p>
        </div>

        <!-- 勝利時のモーダル -->
        <div class="modal" id="winModal">
            <div class="modal-content">
                <h2 id="winMessage">おめでとう！</h2>
                <p id="finalScore"></p>
                <button class="btn-play-again" id="playAgainBtn">もういちど あそぶ</button>
            </div>
        </div>

        <!-- 名前変更モーダル -->
        <div class="modal" id="nameModal">
            <div class="modal-content">
                <h2 id="nameModalTitle">名前をかえてね</h2>
                <div class="name-input-container">
                    <input type="text" id="nameInput" maxlength="10" placeholder="あたらしい名前">
                    <div class="preset-names" id="presetNames">
                        <!-- プリセット名がJavaScriptで追加されます -->
                    </div>
                </div>
                <div class="modal-buttons">
                    <button class="btn-cancel" id="nameCancelBtn">やめる</button>
                    <button class="btn-confirm" id="nameConfirmBtn">きまり</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>